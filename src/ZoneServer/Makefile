CXXFLAGS = -g -std=c++0x -fPIC -I. -I.. -I../../../deps/glm \
-I/usr/include/libnoise -I/usr/include/spatialindex -I/usr/include/lua5.1

BINDIR = ../../bin
LIBDIR = ../../lib

BINS = $(BINDIR)/ZoneServer

LIBS = \
-lspatialindex \
-lnoise \
-lboost_thread \
-lmysqlclient \
-llua5.1 \
-L$(LIBDIR) \
-lswganhCommon \
-lswganhConfigManager \
-lswganhDatabaseManager \
-lswganhLogManager \
-lswganhMessageLib \
-lswganhNetworkManager \
-lswganhScriptEngine \
-lswganhUtils \
-lswganhZoneServer

# ZoneServer - executable
bin_PROGRAMS = zoneserver

OBJS = \
ActiveConversation.o \
AdminManager.o \
AttackableCreature.o \
AttackableStaticNpc.o \
BadgeRegion.o \
BadgeRegionFactory.o \
Bank.o \
BankTerminal.o \
BazaarTerminal.o \
Buff.o \
BuffDBItem.o \
BuffEvent.o \
BuffManager.o \
BugJar.o \
BuildingFactory.o \
BuildingObject.o \
Camp.o \
CampRegion.o \
CampTerminal.o \
CellFactory.o \
CellObject.o \
ChanceCube.o \
CharacterBuilderTerminal.o \
CharacterLoginHandler.o \
CharSheetManager.o \
City.o \
CityFactory.o \
CloningTerminal.o \
CombatManager.o \
Container.o \
ContainerObjectFactory.o \
Conversation.o \
ConversationManager.o \
CraftBatch.o \
CraftingSession.o \
CraftingSessionFactory.o \
CraftingSessionHelper.o \
CraftingStation.o \
CraftingTool.o \
CreatureEventFunctions.o \
CreatureFactory.o \
CreatureObject.o \
CreatureSpawnRegion.o \
CurrentResource.o \
Datapad.o \
DatapadFactory.o \
Deed.o \
DraftSchematic.o \
DraftSlot.o \
DraftWeight.o \
ElevatorTerminal.o \
EnqueueValidator.o \
EntertainerManager.o \
EquipManager.o \
EVAbility.o \
EVCmdProperty.o \
EVPosture.o \
EVQueueSize.o \
EVState.o \
EVSurveySample.o \
EVWeapon.o \
FactoryBase.o \
FactoryCrate.o \
FactoryFactory.o \
FactoryObject.o \
FillerNPC.o \
Firework.o \
FireworkManager.o \
Food.o \
ForageManager.o \
Furniture.o \
GroupManager.o \
GroupManagerHandler.o \
Ham.o \
HamProperty.o \
HarvesterFactory.o \
HarvesterObject.o \
Heightmap.o \
HouseFactory.o \
HouseObject.o \
ImageDesignManager.o \
Instrument.o \
InsuranceTerminal.o \
IntangibleFactory.o \
IntangibleObject.o \
Inventory.o \
InventoryFactory.o \
Item.o \
ItemFactory.o \
LairObject.o \
ManufacturingSchematic.o \
Medicine.o \
MedicManager.o \
MissionBag.o \
MissionFactory.o \
MissionManager.o \
MissionObject.o \
MissionTerminal.o \
MountObject.o \
MovingObject.o \
noiseutils.o \
nonPersistantObjectFactory.o \
NonPersistentItemFactory.o \
NonPersistentNpcFactory.o \
NpcManager.o \
NPCObject.o \
ObjControllerCommandMessage.o \
ObjControllerEvent.o \
Object.o \
ObjectContainer.o \
ObjectController.o \
ObjectControllerCommandMap.o \
ObjectControllerDispatch.o \
ObjectFactory.o \
ObjectFactoryCallback.o \
OCAdminHandlers.o \
OCArtisanHandlers.o \
OCBioEngineerHandlers.o \
OCBountyHunterHandlers.o \
OCBrawlerHandlers.o \
OCCallbackHandlers.o \
OCCarbineerHandlers.o \
OCCharacterSheethandlers.o \
OCCombatHandlers.o \
OCCombatMedicHandlers.o \
OCCommandoHandlers.o \
OCCommonHandlers.o \
OCContactListsHandlers.o \
OCCraftingHandlers.o \
OCCrateHandlers.o \
OCCreatureHandlerHandlers.o \
OCDatapadHandlers.o \
OCDataTransformhandlers.o \
OCDestroyHandlers.o \
OCDoctorHandlers.o \
OCEntertainerHandlers.o \
OCFencerHandlers.o \
OCForceDefenseHandlers.o \
OCForceEnhancementHandlers.o \
OCForceHealingHandlers.o \
OCForceLightsaberHandlers.o \
OCForcePowerHandlers.o \
OCGroupHandlers.o \
OCHeightmapCallback.o \
OCMarksmanHandlers.o \
OCMedicHandlers.o \
OCMissionHandlers.o \
OCNpcConversationhandlers.o \
OCPetHandlers.o \
OCPikemanHandlers.o \
OCPistoleerHandlers.o \
OCPostureHandlers.o \
OCRangerHandlers.o \
OCResourceContainerHandlers.o \
OCRiflemanHandlers.o \
OCScoutHandlers.o \
OCSkillHandlers.o \
OCSmugglerHandlers.o \
OCSpatialHandlers.o \
OCSquadLeaderHandlers.o \
OCStructureHandlers.o \
OCSwordsmanHandlers.o \
OCTerasKasiHandlers.o \
OCTradeHandlers.o \
PersistentNpcFactory.o \
PlayerEventFunctions.o \
PlayerObject.o \
PlayerObjectFactory.o \
PlayerStructure.o \
PlayerStructureTerminal.o \
ProcessValidator.o \
PVHam.o \
PVPosture.o \
PVState.o \
QTRegion.o \
QTRegionFactory.o \
QuadTree.o \
QuadTreeNode.o \
QuestGiver.o \
RadialMenu.o \
RadialMenuItem.o \
RegionFactory.o \
RegionObject.o \
Resource.o \
ResourceCategory.o \
ResourceCollectionCommand.o \
ResourceCollectionManager.o \
ResourceContainer.o \
ResourceContainerFactory.o \
ResourceManager.o \
ResourceType.o \
SchematicGroup.o \
SchematicManager.o \
Scout.o \
ScoutManager.o \
Shuttle.o \
ShuttleFactory.o \
Skill.o \
SkillManager.o \
SpawnRegion.o \
SpawnRegionFactory.o \
StaticObject.o \
Stomach.o \
StructureManager.o \
StructureManagerCallbackHandler.o \
StructureManagerCommandMap.o \
StructureManagerUIManager.o \
SurveyTool.o \
TangibleFactory.o \
TangibleObject.o \
Terminal.o \
TerminalFactory.o \
TicketCollector.o \
TicketCollectorFactory.o \
Trade.o \
TradeManager.o \
Trainer.o \
TravelMapHandler.o \
TravelTerminal.o \
TravelTicket.o \
TreasuryManager.o \
Tutorial.o \
UIButton.o \
UICustomWindows.o \
UIDropdownBox.o \
UIElement.o \
UIInputBox.o \
UIInputField.o \
UIListBox.o \
UIManager.o \
UIMessageBox.o \
UITransferBox.o \
UIWindow.o \
Vehicle.o \
VehicleFactory.o \
WaypointFactory.o \
WaypointObject.o \
Weapon.o \
Wearable.o \
WeightsBatch.o \
WorldConfig.o \
WorldManager.o \
WorldManagerDataBaseHandlers.o \
WorldManagerNPCHandlers.o \
WorldManagerObjectHandlers.o \
WorldManagerPlayerHandlers.o \
ZoneServer.o \
ZoneTree.o


$(BINS): $(LIBDIR)/libswganhZoneServer.so
	$(CXX) $(CXXFLAGS) $(LIBS) -ltolua -o $@

$(LIBDIR)/libswganhZoneServer.so: $(OBJS)
	$(CXX) -shared $(OBJS) -o $@

clean:
	rm -f $(OBJS) $(LIBDIR)/libswganhZoneServer.so $(BINS) *~
